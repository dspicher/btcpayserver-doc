(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{571:function(e,t,o){"use strict";o.r(t);var r=o(26),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"setup-developer-environment"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#setup-developer-environment"}},[e._v("#")]),e._v(" Setup Developer Environment")]),e._v(" "),o("p",[e._v("This guide will help you set up your developer environment to prepare you for later contributions to the BTCPay Server repositories. A variety of beginner tools are used in the guide below to help you get started with development. Once you understand the general setup process, feel free to use any tools that you like.")]),e._v(" "),o("p",[e._v("If you are looking for how to make a simple code change such as fixing a typo or copy change, check out the simplified "),o("RouterLink",{attrs:{to:"/Contribute/ContributeDev/ContributeWrite/WriteSoftware/"}},[e._v("WriteSoftware")]),e._v(" tutorial instead. If you are an advanced developer with a local environment already set up for development, you can skip ahead to the "),o("RouterLink",{attrs:{to:"/Contribute/LocalDev/"}},[e._v("LocalDevelopment")]),e._v(" documentation.")],1),e._v(" "),o("h2",{attrs:{id:"developer-resources"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#developer-resources"}},[e._v("#")]),e._v(" Developer Resources")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://guides.github.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github Guides"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("RouterLink",{attrs:{to:"/Contribute/LocalDev/"}},[e._v("BTCPay Commands and Concepts")])],1),e._v(" "),o("li",[o("RouterLink",{attrs:{to:"/Contribute/LocalDev/#videos"}},[e._v("Environment Setup Videos (Linux, Mac, Windows)")])],1)]),e._v(" "),o("h2",{attrs:{id:"windows-setup-software"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#windows-setup-software"}},[e._v("#")]),e._v(" Windows Setup Software")]),e._v(" "),o("p",[e._v("Software to install to follow this guide:")]),e._v(" "),o("ol",[o("li",[o("a",{attrs:{href:"https://visualstudio.microsoft.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Visual Studio Community Edition"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://dotnet.microsoft.com/download",target:"_blank",rel:"noopener noreferrer"}},[e._v(".NET Core SDK 3.1+"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.docker.com/products/docker-desktop",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Desktop"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("PowerShell (included in Windows OS)")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://gitforwindows.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitBash"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://desktop.github.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Desktop"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("www.Github.com account"),o("OutboundLink")],1),e._v(" (sign up)")])]),e._v(" "),o("p",[e._v("Note: "),o("em",[e._v("This guide assumes installations in default locations. Take note if you have a different file directory structure.")])]),e._v(" "),o("h2",{attrs:{id:"git-setup"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#git-setup"}},[e._v("#")]),e._v(" Git Setup")]),e._v(" "),o("h3",{attrs:{id:"fork-btcpayserver-repository"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#fork-btcpayserver-repository"}},[e._v("#")]),e._v(" Fork BTCPayServer Repository")]),e._v(" "),o("ul",[o("li",[e._v("Open a web browser and login to your www.Github.com account.")]),e._v(" "),o("li",[e._v("Navigate to the "),o("a",{attrs:{href:"https://github.com/btcpayserver/btcpayserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("BTCPayServer Repository"),o("OutboundLink")],1),e._v(" and press the "),o("code",[e._v("Fork")]),e._v(" button to create your own copy of the BTCPayServer repository on Github.")]),e._v(" "),o("li",[e._v("Next open Github Desktop and login so that Github Desktop knows about your www.Github.com account and connects to it.")])]),e._v(" "),o("h3",{attrs:{id:"clone-btcpayserver-repository"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#clone-btcpayserver-repository"}},[e._v("#")]),e._v(" Clone BTCPayServer Repository")]),e._v(" "),o("ul",[o("li",[e._v("In GitHub Desktop, use the "),o("code",[e._v("Add")]),e._v(" button and see the option clone repository.")]),e._v(" "),o("li",[e._v("If you are using your www.Github.com credentials in GitHub Desktop, you will see your BTCPayServer repository that you just forked on www.Github.com. Select it and take note of the local path shown below. (by default it will be something like C:\\Users\\SatoshisComputer\\Documents\\GitHub\\btcpayserver for clarity, lets call it our: "),o("em",[e._v("clone local path")]),e._v(") then press clone.")]),e._v(" "),o("li",[e._v("Now you will see the BTCPayServer repository has been cloned in your GitHub Desktop and you will be on the "),o("em",[e._v("master branch")]),e._v(".")])]),e._v(" "),o("h3",{attrs:{id:"create-a-development-feature-branch"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#create-a-development-feature-branch"}},[e._v("#")]),e._v(" Create a Development Feature Branch")]),e._v(" "),o("ul",[o("li",[e._v("Next we will practice working with our BTCPayServer repository that we just cloned to our computer using Github Desktop.")]),e._v(" "),o("li",[e._v("When developing, you may want to work on different features at once. To do that, we typically want to create multiple feature branches instead of making all changes to the master branch.")]),e._v(" "),o("li",[e._v("We're using GitBash and some Git commands, so open GitBash. (If you prefer to only use GitHub desktop instead of GitBash, you can create branches there instead.)")]),e._v(" "),o("li",[e._v("Once you have a GitBash terminal open, we need to change directory to our clone of BTCPayServer repository.")]),e._v(" "),o("li",[e._v("To do this, navigate to our "),o("em",[e._v("clone local path")]),e._v(" with the change directory command: "),o("code",[e._v("$ cd Documents/Github/btcpayserver")])]),e._v(" "),o("li",[e._v("You can see your clone of BTCPayServer is on the branch called "),o("code",[e._v("master")])]),e._v(" "),o("li",[e._v("Make a copy of your master branch to do some development on it, with the command: "),o("code",[e._v("$ git branch OurNewDevelopmentBranch")])]),e._v(" "),o("li",[e._v("Let's view all the branches we have now, with the command: "),o("code",[e._v("$ git branch")]),e._v(" you can see we have master and OurNewDevelopmentBranch")]),e._v(" "),o("li",[e._v("In Git, we now have a copy of our forked BTCPayServer repository (our clone). When we want to switch between branches (copies of our clone), we need to tell Git which branch our development code changes should be assigned to. We do this by checking out our branch, with the command: "),o("code",[e._v("$ git checkout OurNewDevelopmentBranch")])]),e._v(" "),o("li",[e._v("Now you are now on OurNewDevelopmentBranch in GitBash.")]),e._v(" "),o("li",[e._v("Open your GitHub Desktop and you can see you are no longer on master and you are now on "),o("code",[e._v("OurNewDevelopmentBranch")])]),e._v(" "),o("li",[e._v("In the top menu in Github Desktop click: "),o("code",[e._v("Repository > Show In Explorer")])])]),e._v(" "),o("h2",{attrs:{id:"visual-studio-setup"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#visual-studio-setup"}},[e._v("#")]),e._v(" Visual Studio Setup")]),e._v(" "),o("ul",[o("li",[e._v("It will open a File Explorer to the BTCPayServer repository folder. Without opening any of the folders shown, look for the "),o("code",[e._v("btcpayserver.sln")]),e._v(" item and right click it to "),o("code",[e._v("Open with > Visual Studio")]),e._v(". You may need to choose Open with > Choose another app ... and look for Visual Studio if you have never opened this kind of file before.")]),e._v(" "),o("li",[e._v("To get your Visual Studio set up choose "),o("code",[e._v("View > Solution Explorer")]),e._v(" from the top menu. In this solution explorer you will see all the BTCPayServer files and folders.")]),e._v(" "),o("li",[e._v("The top project is BTCPayServer, make sure it's in bold. If it isn't, right click it and choose Set as StartUp Project.")]),e._v(" "),o("li",[e._v("Your Visual Studio is now set up and ready.")])]),e._v(" "),o("h2",{attrs:{id:"bitcoin-regtest-network-setup"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bitcoin-regtest-network-setup"}},[e._v("#")]),e._v(" Bitcoin Regtest Network Setup")]),e._v(" "),o("ul",[o("li",[e._v("For the next step make sure that you have Docker-Compose installed (included with Docker Desktop). Open a PowerShell terminal and navigate to your "),o("em",[e._v("clone local path")]),e._v(" and into the BTCPayServer.Tests directory with the command: "),o("code",[e._v("$ cd Documents/Github/btcpayserver/BTCPayServer.Tests")])]),e._v(" "),o("li",[e._v("The BTCPayServer.Tests project contains the docker files needed to run our docker commands that will start all the project dependencies and create a local Regtest network.")]),e._v(" "),o("li",[e._v("In Powershell, start the docker services with the command: "),o("code",[e._v("docker-compose up dev")]),e._v("(you must be in the BTCPayServer.Tests to run this command).")]),e._v(" "),o("li",[e._v("In your PowerShell terminal you will first see the necessary docker images being pulled, then containers being built. If the build is successful the containers will all show as done.")])]),e._v(" "),o("h2",{attrs:{id:"build-local-btcpayserver"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#build-local-btcpayserver"}},[e._v("#")]),e._v(" Build Local BTCPayServer")]),e._v(" "),o("ul",[o("li",[e._v("Back in Visual Studio, click: "),o("code",[e._v("Build > Build Solution")])]),e._v(" "),o("li",[e._v("In the output window, a successful build will look something like this: "),o("code",[e._v("========== Build: 6 succeeded, 0 failed, 0 up-to-date, 0 skipped ==========")])]),e._v(" "),o("li",[e._v("Next press "),o("code",[e._v("Debug > Start Debugging")])]),e._v(" "),o("li",[e._v("First a Visual Studio debug console will open which shows information about the status of your local BTCPayServer.")]),e._v(" "),o("li",[e._v("Next a local BTCPay Server will be created in a web browser, showing on the home page that it's in "),o("code",[e._v("REGTEST")]),e._v(" mode.")]),e._v(" "),o("li",[e._v("You now will have three windows to view: BTCPayServer browser session, our Visual Studio debug console and our BTCPayServer.Tests powershell terminal.")]),e._v(" "),o("li",[e._v("Register a new user in your BTCPay Server and see the registration and login event is shown in your Visual Studio debug console.")])]),e._v(" "),o("h2",{attrs:{id:"visual-studio-code-changes-in-your-local-btcpayserver"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#visual-studio-code-changes-in-your-local-btcpayserver"}},[e._v("#")]),e._v(" Visual Studio Code Changes In Your Local BTCPayServer")]),e._v(" "),o("ul",[o("li",[e._v("Make changes to code in Visual Studio (Ex: modify the "),o("code",[e._v("Welcome to your BTCPay")]),e._v(" text in the "),o("code",[e._v("~\\BTCPayServer\\Views\\Account\\Login.cshtml")]),e._v(" file)")]),e._v(" "),o("li",[e._v("Refresh the page to see your text changes on the home page.")]),e._v(" "),o("li",[e._v("Some code changes require re-start of Debugging for changes to take effect.")]),e._v(" "),o("li",[e._v("Add breakpoints in Visual Studio and see those breakpoints get hit when you try to use a feature in your local BTCPayServer instance.")])]),e._v(" "),o("h2",{attrs:{id:"sync-forked-btcpayserver-repository"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#sync-forked-btcpayserver-repository"}},[e._v("#")]),e._v(" Sync Forked BTCPayServer Repository")]),e._v(" "),o("ul",[o("li",[e._v("With many contributors adding code changes to the Master BTCPayServer Repository, sometimes your forked copy can fall behind, unless you merge new changes into your fork.")]),e._v(" "),o("li",[e._v("If you go to your Fork of BTCPayServer on www.Github.com you will see a message saying that your branch is behind by some commits. Example: This branch is 32 commits behind btcpayserver:master.")]),e._v(" "),o("li",[e._v("To update, you can use GitBash or simply use Github Desktop by clicking through the synchronization prompts.")]),e._v(" "),o("li",[e._v("Open a GitBash terminal and update your BTCPayServer repository with the following commands.")]),e._v(" "),o("li",[e._v("First always navigate to your "),o("em",[e._v("clone local path")]),e._v(" with the command: "),o("code",[e._v("$ cd Documents/Github/btcpayserver")]),e._v(" and make sure you are on "),o("code",[e._v("master")]),e._v(" branch.")])]),e._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[e._v("$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" fetch upstream\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" merge upstream/master\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("SomeCommitMessage"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\nMessage prompt: "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".your branch is ahead of origin master by "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"X"')]),e._v(" commits"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". use "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push to publish"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push origin master \n")])])]),o("h2",{attrs:{id:"commit-code-to-make-pull-request"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#commit-code-to-make-pull-request"}},[e._v("#")]),e._v(" Commit Code To Make Pull Request")]),e._v(" "),o("ul",[o("li",[e._v("After you have made some code changes on a feature branch (Example: A feature branch called "),o("code",[e._v("Fix/BugBranch")]),e._v(") and you want to make a Pull Request to the BTCPayServer Repository. Open a GitBash terminal and navigate to your "),o("em",[e._v("clone local path")]),e._v(" with the command: "),o("code",[e._v("$ cd Documents/Github/btcpayserver")]),e._v(" and make sure you are on the "),o("strong",[e._v("correct branch")]),e._v(" that you want to commit and use git status to check the files changed are the ones you want to commit.")])]),e._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[e._v("$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" status \n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit\n\nText Editor appears to "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" your commit message"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\nExample Commit Message: Fix bug "),o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" update button\n\nAccept Changes: Ctrl + x\nSave Changes: Shift + y\nClose Editor with: Enter\n\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push origin Fix/BugBranch\n")])])]),o("p",[e._v("See your new branch has been created on you www.Github.com BTCPayServer Fork, review changes and create Pull Request.")]),e._v(" "),o("h2",{attrs:{id:"delete-local-branch"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#delete-local-branch"}},[e._v("#")]),e._v(" Delete Local Branch")]),e._v(" "),o("p",[e._v("If you delete a branch on your forked BTCPay repository on Github.com, your local copy on your machine will still remain, unless you delete it:")]),e._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[e._v("$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout master\n$ "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" branch -D "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("branch name"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),o("p",[e._v("Note: You can't delete a branch if you have it checked out, so checkout another branch like "),o("code",[e._v("master")]),e._v(" first, as shown in the example above.")]),e._v(" "),o("h2",{attrs:{id:"working-with-docker-containers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#working-with-docker-containers"}},[e._v("#")]),e._v(" Working with Docker Containers")]),e._v(" "),o("p",[e._v("If you want to use Docker Commands when developing locally, you can run the following commands in the "),o("code",[e._v("BTCPayServer.Tests")]),e._v(" directory.")]),e._v(" "),o("ul",[o("li",[e._v("Show running containers "),o("code",[e._v("docker ps")])]),e._v(" "),o("li",[e._v("Show logs for a container "),o("code",[e._v("docker ps logs <container>")])]),e._v(" "),o("li",[e._v("Start Docker containers "),o("code",[e._v("docker-compose up dev")])]),e._v(" "),o("li",[e._v("Stop Docker containers "),o("code",[e._v("docker-compose down")])]),e._v(" "),o("li",[e._v("Destroy Docker containers "),o("code",[e._v("docker-compoose down --v")])])]),e._v(" "),o("h2",{attrs:{id:"questions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#questions"}},[e._v("#")]),e._v(" Questions")]),e._v(" "),o("p",[e._v("If you have questions about the BTCPay Server local development setup, you can join the "),o("a",{attrs:{href:"https://chat.btcpayserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("community chat"),o("OutboundLink")],1),e._v(". If you have questions about any of the other tools or commands, etc. it's likely you can find answers to your questions by doing a search on the internet or on "),o("a",{attrs:{href:"https://stackoverflow.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("StackOverflow"),o("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);t.default=a.exports}}]);